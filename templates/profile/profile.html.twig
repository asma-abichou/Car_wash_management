{% extends 'base.html.twig' %}

{% block title %}
    View Profile
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .profile-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }

        .profile-card {
            max-width: 800px;
            width: 100%;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .profile-card .profile-image {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .profile-card .profile-image img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
        }

        .profile-card .form-control {
            margin-bottom: 10px;
        }

        .profile-card .text-red {
            color: red;
            margin-top: 5px;
        }

        .profile-card .btn-success {
            width: 100%;
        }
    </style>
{% endblock %}

{% block body %}
    <body class="hold-transition sidebar-mini">
    <div class="wrapper">
        {% include 'navBar.html.twig' %}
        {% include 'sideBar.html.twig' %}
        <div class="content-wrapper">
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h3>Profile</h3>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#">Home</a></li>
                                <li class="breadcrumb-item active">Profile</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </section>
            <div class="profile-container">
                <div class="profile-card">

                    <div class="row">
                        <div class="col-md-12">
                            {% for successMessage in app.flashes('editProfileSuccess') %}
                                <div class="alert alert-success">
                                    {{ successMessage }}
                                </div>
                            {% endfor %}
                            {{ form_start(myProfileForm) }}
                            <div class="mb-3">
                                <div class="card-body text-center">
                                    {% if app.user.profileImage|default %}
                                        <img class="img-account-profile rounded-circle" src="{{ asset('/uploads/profile_images/' ~ app.user.profileImage) }}" width="120" height="120"/>
                                    {% else %}
                                        <img class="img-account-profile rounded-circle" src="{{ asset('/uploads/user2.jpg') }}" width="120" height="120"/>
                                    {% endif %}
                                </div>
                                {{ form_widget(myProfileForm.profileImage, {'attr': {'class': 'form-control'}}) }}
                                <div class="text-red">
                                    {{ form_errors(myProfileForm.profileImage) }}
                                </div>
                            </div>
                        </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    {{ form_label(myProfileForm.firstName) }}
                                    {{ form_widget(myProfileForm.firstName, {'attr': {'class': 'form-control', 'placeholder':'Entrez votre prénom...'}}) }}
                                    <div class="text-red">
                                        {{ form_errors(myProfileForm.firstName) }}
                                    </div>
                                </div>
                                <div class="mb-3">
                                    {{ form_label(myProfileForm.email) }}
                                    {{ form_widget(myProfileForm.email, {'attr': {'class': 'form-control', 'placeholder':'Entrez votre adresse e-mail...'}}) }}
                                    <div class="text-red fst-italic">
                                        {{ form_errors(myProfileForm.email) }}
                                    </div>
                                </div>
                            </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                {{ form_label(myProfileForm.lastName) }}
                                {{ form_widget(myProfileForm.lastName, {'attr': {'class': 'form-control', 'placeholder':'Entrez votre nom de famille...'}}) }}
                                <div class="text-red">
                                    {{ form_errors(myProfileForm.lastName) }}
                                </div>
                            </div>
                            <div class="mb-3">
                                {{ form_label(myProfileForm.identityCard) }}
                                {{ form_widget(myProfileForm.identityCard, {'attr': {'class': 'form-control', 'placeholder':'Entrez votre numéro de carte d\'identité...'}}) }}
                                <div class="text-red fst-italic">
                                    {{ form_errors(myProfileForm.identityCard) }}
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="mb-3">
                                {{ form_label(myProfileForm.taxRegistrationCard) }}
                                {{ form_widget(myProfileForm.taxRegistrationCard, {'attr': {'class': 'form-control', 'placeholder':'Choisissez un fichier...'}}) }}
                                <div class="text-red fst-italic">
                                    {{ form_errors(myProfileForm.taxRegistrationCard) }}
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                {{ form_label(myProfileForm.telephoneNumber) }}
                                {{ form_widget(myProfileForm.telephoneNumber, {'attr': {'class': 'form-control', 'placeholder':'Entrez votre numéro de téléphone...'}}) }}
                                <div class="text-red fst-italic">
                                    {{ form_errors(myProfileForm.telephoneNumber) }}
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="mb-3">
                                {{ form_label(myProfileForm.personalAddress) }}
                                {{ form_widget(myProfileForm.personalAddress, {'attr': {'class': 'form-control', 'placeholder':'Entrez votre adresse personnelle...'}}) }}
                                <div class="text-red fst-italic">
                                    {{ form_errors(myProfileForm.personalAddress) }}
                                </div>
                            </div>
                            <div class="text-center">
                                <button type="submit" class="mt-3 btn btn-success">Confirmer</button>
                            </div>
                            {{ form_end(myProfileForm) }}
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    </body>
{% endblock %}
